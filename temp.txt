## 최종 모델 설계도 (v2.0)
STAGE 0: 시장 국면 필터 (Master Circuit Breaker)
가장 먼저, 모델이 감당할 수 없는 시장 환경을 회피하기 위한 총괄 안전장치를 작동시킵니다.

판단 지표: VIX 지수 (공포 지수)

실행 규칙:

만약 VIX > 30 (임계치 예시) 이면: 극심한 공포 국면으로 판단, 아래의 모든 투자 로직을 중단합니다. 기존 포지션은 유지하거나 전량 현금화하며, 신규 매수는 일절 없습니다.

만약 VIX ≤ 30 이면: 안정 또는 일반 변동성 국면으로 판단, STAGE 1으로 진행합니다.

STAGE 1: 특징 벡터 생성 및 HDBSCAN 클러스터링
'주식의 성격'을 정의하고, 비슷한 성격의 주식들을 AI로 그룹핑합니다.

특징 벡터 (Feature Vector) 구성: 각 주식의 다차원 'DNA'를 정의합니다.

모멘텀: 1개월 수익률, 3개월 수익률, 12개월 수익률

리스크: 6개월 변동성, 최대 하락폭(MDD)

펀더멘털: 시가총액(Size), PBR(Value), ROE(Quality)

클러스터링 알고리즘: HDBSCAN

초기 K값 설정 없이, 데이터의 밀도를 기반으로 AI가 최적의 군집 수를 동적으로 찾아냅니다.

어떤 그룹에도 속하지 않는 '노이즈' 종목은 자동으로 제외하여 분석의 질을 높입니다.

결과: 시장 상황에 따라 매번 다르게 생성되는, 각기 다른 '성격'을 가진 주식 그룹(클러스터)들.

STAGE 2: 주도 그룹 선정 (Momentum Score 계산)
가장 '질 좋게' 상승하는 그룹을 찾아냅니다.

모멘텀 스코어 (Momentum Score) 정의:

단순 수익률이 아닌, 여러 시간 기준의 '위험 조정 수익률'을 종합하여 계산합니다.

계산 절차:

개별 지표 계산: 각 그룹(클러스터)별로 아래 지표들의 **중앙값(Median)**을 계산합니다.

A: 3개월 소티노 지수 (Sortino Ratio)

B: 6개월 수익률

C: 12개월 수익률

지표별 순위 부여: 전체 그룹들을 대상으로 A, B, C 각 지표의 순위를 매깁니다.

최종 스코어 산출: 각 순위에 가중치를 부여하여 최종 스코어를 계산합니다.

최종 스코어 = (A 순위 × 0.5) + (B 순위 × 0.3) + (C 순위 × 0.2)

선정: 최종 스코어가 가장 높은 1~2개 그룹을 **'주도 그룹'**으로 선정합니다.

STAGE 3: 핵심 종목 선정 (필터링 적용)
주도 그룹 내에서 최종 투자 대상을 선별합니다.

'모멘텀 퀄리티' 순위: 주도 그룹 내 개별 종목들을 대상으로 STAGE 2와 유사한 방식으로 '질 좋은 모멘텀' 순위를 매깁니다.

동적 변동성 필터: 순위 상위권 종목 중, '해당 주도 그룹의 중앙값 변동성 × 1.5배'를 초과하는 종목은 제외하여 지나친 위험을 방지합니다.

분산 투자 규칙: 최종 후보군에 동일 섹터 종목이 3개 이상 포함될 경우, 순위가 낮은 종목을 제외하고 다음 순위의 다른 섹터 종목을 편입합니다.

최종 선정: 위 필터링을 거친 상위 3~5개 종목을 최종 포트폴리오로 확정합니다.

STAGE 4: 투자 실행 및 리스크 관리
실제 매매와 동적 리스크 관리를 수행합니다.

정기 리밸런싱: 매월 1회, STAGE 1~3을 다시 실행하여 포트폴리오를 최신 시장 상황에 맞게 교체합니다.

트렌드 붕괴 신호 (Trend Collapse Signal) - 상세 설명:

목적: 정기 리밸런싱 주기(월 1회)의 안정성은 유지하되, 그 사이에 발생하는 급격한 트렌드 붕괴에 속수무책으로 당하지 않기 위한 **'응급 탈출 신호(Emergency Exit Signal)'**입니다.

작동 방식:

매일 체크: 장 마감 후, 현재 내가 보유한 '주도 그룹'의 모멘텀 스코어를 계산합니다.

시장과 비교: 동시에, 시장 전체의 평균 모멘텀 스코어를 계산합니다.

'약세 카운터' 작동:

만약 (내 그룹 스코어) < (시장 평균 스코어) 이면, '약세 카운터'를 1 증가시킵니다.

반대의 경우, '약세 카운터'를 0으로 리셋합니다.

신호 발생: '약세 카운터'가 3에 도달하면 (즉, 3일 연속으로 시장보다 약한 모습을 보이면) 신호가 발생합니다.

실행 조치: 신호 발생 시, 다음 정기 리밸런싱 날짜까지 기다리지 않고 즉시 해당 포지션을 전량 청산하거나 50% 축소하고 현금을 보유합니다.

비유: 정기 건강검진(월간 리밸런싱)을 받지만, 갑자기 가슴에 통증이 3일 연속 느껴지면(붕괴 신호), 검진일까지 기다리지 않고 바로 응급실로 달려가는 것과 같습니다. 🚑





2. 기업 DNA 유사도 기반 '넥스트 챔피언' 탐색 모델
핵심 아이디어: 성공한 '롤모델' 기업(예: 엔비디아)의 사업보고서를 AI로 분석, 비슷한 '사업 DNA'를 가진 제2의 성장주를 발굴하는 전략. "숨은 보석 찾기" 방식입니다.

활용 데이터: 사업보고서 텍스트 데이터 (미국: SEC Form 10-K), 재무 데이터 (필터링용)

핵심 AI 기술: **자연어 처리 (NLP - Sentence-BERT)**를 이용해 기업의 비즈니스 모델을 벡터로 변환하고 유사도를 측정합니다.

투자 스타일: 성장주 발굴, 장기 투자, 퀄리티 투자










3. '어닝 서프라이즈' 지연 효과 모델 (PEAD)
핵심 아이디어: 시장이 예상보다 좋은 실적에 '느리게 반응'하는 심리적 패턴을 이용, 실적 발표 후 꾸준히 오르는 주식에 선제적으로 투자하는 전략.

활용 데이터: 기업 실적 발표 데이터, 애널리스트 예측치(EPS), 주가 데이터

핵심 AI 기술: **지도 학습 (XGBoost 등)**을 이용해, 수많은 '어닝 서프라이즈' 종목 중에서도 실제로 주가 상승으로 이어질 확률이 높은 종목을 선별합니다.

투자 스타일: 퀀트, 이벤트 기반, 중기 투자







4. '과매도 반등' 역발상 모델 (Overreaction)
핵심 아이디어: 시장이 악재에 '과잉 반응'하여 투매가 일어난 주식을 AI로 포착, 단기적인 가격 되돌림(반등)을 공략하는 역발상 전략. "공포에 사는" 방식입니다.

활용 데이터: 주가 데이터, 거래량 데이터

핵심 AI 기술: **이상치 탐지 (Anomaly Detection)**를 이용해 평소와 다른 '비정상적인' 폭락 패턴을 식별합니다.

투자 스타일: 역발상(Contrarian), 단기 트레이딩, 평균 회귀